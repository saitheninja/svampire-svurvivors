import{c as mt,a as z,t as O,d as ct}from"../chunks/disclose-version.Bs1v99qL.js";import{a6 as Ut,b as Vt,h as K,N as We,K as Zt,H as Qt,am as wt,L as er,M as ft,O as Xe,c as fe,ao as Ne,I as _t,a as bt,J as tr,D as pt,ap as rr,aq as ir,al as nr,ar as or,d as ar,a7 as sr,ai as lr,ab as dr,a5 as cr,z as ut,as as fr,at as pr,au as ur,ag as vr,av as hr,G as vt,aw as gr,p as Oe,g as Ct,f as Me,e as Ge,ax as ve,w as _,s as h,v,t as W,l as e,ay as N,o as F,B as u,az as xr}from"../chunks/runtime.CT879Py1.js";import{e as U,a as R}from"../chunks/store.Cv53v3pe.js";import{p as ae,i as oe,a as M,b as Ye}from"../chunks/props.Bq_WqkoQ.js";function he(s,r){return r}function yr(s,r,a,y){for(var p=[],l=r.length,x=0;x<l;x++)ir(r[x].e,p,!0);var k=l>0&&p.length===0&&a!==null;if(k){var $=a.parentNode;nr($),$.append(a),y.clear(),q(s,r[0].prev,r[l-1].next)}or(p,()=>{for(var b=0;b<l;b++){var f=r[b];k||(y.delete(f.k),q(s,f.prev,f.next)),ar(f.e,!k)}})}function ge(s,r,a,y,p,l=null){var x=s,k={flags:r,items:new Map,first:null};{var $=s;x=K?We(sr($)):$.appendChild(Ut())}K&&Zt();var b=null,f=!1;Vt(()=>{var C=a(),d=Qt(C)?C:C==null?[]:wt(C),i=d.length;if(f&&i===0)return;f=i===0;let m=!1;if(K){var L=x.data===er;L!==(i===0)&&(x=ft(),We(x),Xe(!1),m=!0)}if(K){for(var B=null,g,w=0;w<i;w++){if(fe.nodeType===8&&fe.data===lr){x=fe,m=!0,Xe(!1);break}var A=d[w],P=y(A,w);g=kt(fe,k,B,null,A,P,w,p,r),k.items.set(P,g),B=g}i>0&&We(ft())}if(!K){var E=dr;mr(d,k,x,p,r,(E.f&Ne)!==0,y)}l!==null&&(i===0?b?_t(b):b=bt(()=>l(x)):b!==null&&tr(b,()=>{b=null})),m&&Xe(!0),a()}),K&&(x=fe)}function mr(s,r,a,y,p,l,x){var k=s.length,$=r.items,b=r.first,f=b,C,d=null,i=[],m=[],L,B,g,w;for(w=0;w<k;w+=1){if(L=s[w],B=x(L,w),g=$.get(B),g===void 0){var A=f?f.e.nodes_start:a;d=kt(A,r,d,d===null?r.first:d.next,L,B,w,y,p),$.set(B,d),i=[],m=[],f=d.next;continue}if(wr(g,L,w),g.e.f&Ne&&_t(g.e),g!==f){if(C!==void 0&&C.has(g)){if(i.length<m.length){var P=m[0],E;d=P.prev;var D=i[0],J=i[i.length-1];for(E=0;E<i.length;E+=1)ht(i[E],P,a);for(E=0;E<m.length;E+=1)C.delete(m[E]);q(r,D.prev,J.next),q(r,d,D),q(r,J,P),f=P,d=J,w-=1,i=[],m=[]}else C.delete(g),ht(g,f,a),q(r,g.prev,g.next),q(r,g,d===null?r.first:d.next),q(r,d,g),d=g;continue}for(i=[],m=[];f!==null&&f.k!==B;)(l||!(f.e.f&Ne))&&(C??(C=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;g=f}i.push(g),d=g,f=g.next}if(f!==null||C!==void 0){for(var X=C===void 0?[]:wt(C);f!==null;)(l||!(f.e.f&Ne))&&X.push(f),f=f.next;var Q=X.length;if(Q>0){var Y=k===0?a:null;yr(r,X,Y,$)}}pt.first=r.first&&r.first.e,pt.last=d&&d.e}function wr(s,r,a,y){rr(s.v,r),s.i=a}function kt(s,r,a,y,p,l,x,k,$){var b=($&pr)!==0,f=($&ur)===0,C=b?f?cr(p):ut(p):p,d=$&fr?ut(x):x,i={i:d,v:C,k:l,a:null,e:null,prev:a,next:y};try{return i.e=bt(()=>k(s,C,d),K),i.e.prev=a&&a.e,i.e.next=y&&y.e,a===null?r.first=i:(a.next=i,a.e.next=i.e),y!==null&&(y.prev=i,y.e.prev=i.e),i}finally{}}function ht(s,r,a){for(var y=s.next?s.next.e.nodes_start:a,p=r?r.e.nodes_start:a,l=s.e.nodes_start;l!==y;){var x=vr(l);p.before(l),l=x}}function q(s,r,a){r===null?s.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function pe(s,r,a,y){var p=s.__attributes??(s.__attributes={});K&&(p[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||p[r]!==(p[r]=a)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[hr]=a),a==null?s.removeAttribute(r):typeof a!="string"&&_r(s).includes(r)?s[r]=a:s.setAttribute(r,a))}var gt=new Map;function _r(s){var r=gt.get(s.nodeName);if(r)return r;gt.set(s.nodeName,r=[]);for(var a,y=vt(s),p=Element.prototype;p!==y;){a=gr(y);for(var l in a)a[l].set&&r.push(l);y=vt(y)}return r}function Et(s,r,a){if(a){if(s.classList.contains(r))return;s.classList.add(r)}else{if(!s.classList.contains(r))return;s.classList.remove(r)}}function H(s,r,a,y){var p=s.__styles??(s.__styles={});p[r]!==a&&(p[r]=a,a==null?s.style.removeProperty(r):s.style.setProperty(r,a,""))}var br=O("<li> </li>"),Cr=O("<li> <ul></ul></li>"),kr=O('<div id="bindings"><p>Keybindings</p> <ul></ul></div>');function Er(s,r){Oe(r,!0);const a=[{actionName:"up",keyBindings:["w","ArrowUp"]},{actionName:"left",keyBindings:["a","ArrowLeft"]},{actionName:"down",keyBindings:["s","ArrowDown"]},{actionName:"right",keyBindings:["d","ArrowRight"]},{actionName:"pause",keyBindings:["p"]}],y=!1;let p=ae(r,"actionsActive",31,()=>M([])),l=ae(r,"isPaused",15,!1),x=ae(r,"dirX",15,0),k=ae(r,"dirY",15,0);Ct(()=>{let d=0,i=0;p().includes("left")&&(d-=1),p().includes("right")&&(d+=1),p().includes("up")&&(i-=1),p().includes("down")&&(i+=1),x(d),k(i)});function $(d){for(const{actionName:i,keyBindings:m}of a)if(m.includes(d.key)){if(d.preventDefault(),p().includes(i))return;p().push(i)}}function b(d){for(const{actionName:i,keyBindings:m}of a)if(m.includes(d.key)){if(d.preventDefault(),!p().includes(i))return;p(p().filter(L=>L!==i)),i==="pause"&&l(!l())}}var f=mt();U("keydown",ve,$),U("keyup",ve,b);var C=Me(f);oe(C,()=>y,d=>{var i=kr(),m=_(h(i),2);ge(m,21,()=>a,he,(L,B)=>{let g=()=>e(B).actionName,w=()=>e(B).keyBindings;var A=Cr(),P=h(A),E=_(P);ge(E,21,w,he,(D,J)=>{var X=br(),Q=h(X,!0);v(X),W(()=>R(Q,e(J))),z(D,X)}),v(E),v(A),W(()=>R(P,`${g()??""}: `)),z(L,A)}),v(m),v(i),z(d,i)}),z(s,f),Ge()}var Nr=O('<div id="joystick" class="absolute left-0 top-0 z-40 h-screen w-screen touch-none overflow-clip"><div id="joystick-base" class="absolute rounded-full bg-rose-950/50"><div id="joystick-lever" class="relative top-1/4 h-1/2 w-1/2 rounded-full bg-rose-500"></div></div></div>');function Mr(s,r){Oe(r,!0);let a=ae(r,"joystickAngle",15,0),y=ae(r,"joystickTiltRatio",15,0);const p=60;let l=N(!1),x=N(0),k=N(0),$=N(0),b=N(0),f=F(()=>e($)-e(x)),C=F(()=>e(b)-e(k)),d=F(()=>Math.atan2(e(C),e(f))*(180/Math.PI)),i=F(()=>Math.sqrt(Math.pow(e(f),2)+Math.pow(e(C),2))),m=F(()=>Math.min(e(i),p));Ct(()=>{if(!e(l)){a(0),y(0);return}a(e(d)),y(e(m)/p)});function L(E){!E.target||E.target.id!=="joystick"||(u(l,!0),u(x,M(E.x)),u(k,M(E.y)),u($,M(E.x)),u(b,M(E.y)))}function B(E){e(l)!==!1&&(u($,M(E.x)),u(b,M(E.y)))}function g(){u(l,!1),u(x,0),u(k,0),u($,0),u(b,0)}var w=Nr();U("pointerdown",ve,L),U("pointermove",ve,B),U("pointerup",ve,g);var A=h(w);H(A,"width",`${p*2}px`),H(A,"height",`${p*2}px`);var P=h(A);v(A),v(w),W(()=>{Et(A,"hidden",!e(l)),H(A,"left",`${e(x)-p}px`),H(A,"top",`${e(k)-p}px`),H(A,"transform",`rotate(${e(d)??""}deg)`),H(P,"left",`${p/2+e(m)}px`)}),z(s,w),Ge()}const Fe={name:"forest",imagePath:"./terrain-forest.svg",height:8e3,width:8e3},$r={name:"whip",damage:2,durationActive:1e3,durationActiveElapsed:0,durationCooldown:2e3,durationCooldownElapsed:0,sprite:{name:"whip",colorBg:"rgb(30 58 138)",colorHit:"rgb(147 197 253)",emoji:"üîóüîóüîóüîó",fontSize:24,width:24*5,height:24}},Tr={name:"sword",damage:4,durationActive:2e3,durationActiveElapsed:0,durationCooldown:5e3,durationCooldownElapsed:0,sprite:{name:"sword",colorBg:"rgb(30 58 138)",colorHit:"rgb(147 197 253)",emoji:"üó°Ô∏è",fontSize:48,width:48,height:48}},Ar=[$r,Tr],ue={name:"player",healthCurrent:100,healthMax:100,speed:1,weapons:[...Ar],sprite:{name:"player",colorBg:"rgb(30 58 138)",colorHit:"rgb(147 197 253)",emoji:"üßîüèæ",fontSize:48,width:48,height:48}},Z={name:"skeleton",healthCurrent:1,healthMax:1,speed:.1,weapons:[],sprite:{name:"skeleton",colorBg:"rgb(132 204 22)",colorHit:"rgb(190 242 100)",emoji:"üíÄ",fontSize:48,width:48,height:48}},Ee={name:"zombie",healthCurrent:4,healthMax:4,speed:.1,weapons:[],sprite:{name:"zombie",colorBg:"rgb(132 204 22)",colorHit:"rgb(190 242 100)",emoji:"üßü",fontSize:48,width:48,height:48}},Pr={name:"goblin",healthCurrent:100,healthMax:100,speed:.05,weapons:[],sprite:{name:"goblin",colorBg:"rgb(239 68 68)",colorHit:"rgb(252 165 165)",emoji:"üë∫",fontSize:80,width:80,height:80}},xt=[Z,Z,Z,Z,Z,Z,Z,Ee,Ee,Pr,Ee,Ee],G=10,yt=[{level:1,xpToNext:G*1},{level:2,xpToNext:G*2},{level:3,xpToNext:G*3},{level:4,xpToNext:G*4},{level:5,xpToNext:G*5},{level:6,xpToNext:G*6},{level:7,xpToNext:G*7},{level:8,xpToNext:G*8},{level:9,xpToNext:G*9},{level:10,xpToNext:G*10}],Sr={name:"experience-gem",colorBg:"rgb(139 92 246)",colorHit:"rgb(196 181 253)",emoji:"üü™",fontSize:20,width:20,height:20};var Br=O('<div class="sr-only flex flex-row gap-2"><span>experience:</span> <span> </span> <span> </span></div> <div class="flex h-6 flex-row bg-gray-600"><div class="rounded bg-blue-500"></div></div>',1),Hr=O('<span class="w-6 overflow-clip border-2 border-white/30"> </span>'),Lr=O('<span class="w-6 border-2 border-white/30"> </span>'),jr=O('<span class="w-6 border-2 border-dotted border-white/30"> </span>'),zr=O('<div id="menu" class="mx-auto max-w-max bg-gray-900/70 p-2"><h2 class="mb-2 text-lg font-bold">Map</h2> <img class="w-full"></div>'),Ir=O('<div id="start-screen" class="absolute left-0 top-0 z-50 h-screen w-screen place-items-center content-center space-y-6 bg-rose-950"><h1 class="text-center text-6xl font-extrabold">Svampire Svurvivors</h1> <form id="form-start-game"><button class="border-b-8 border-red-900 bg-rose-600 px-8 py-2 font-extrabold text-white shadow-md shadow-red-900">start game</button></form></div>'),Rr=O('<!> <div id="game-window" class="h-screen w-screen overflow-auto bg-gray-900"><div id="top-ui" class="absolute left-0 top-0 z-50 p-1"><div id="experience-bar" class="mb-2 rounded-lg border-2 border-yellow-300 bg-gray-900 p-1"><div class="flex w-full flex-row justify-between"><h1 class="text-xl font-extrabold">Svampire Svurvivors</h1> <span class="font-bold"> </span></div> <!></div> <div class="grid grid-cols-3 grid-rows-1"><div class="flex flex-col gap-1 justify-self-start text-center"><div class="flex flex-row gap-1"></div> <div class="flex flex-row gap-1"></div> <div class="flex flex-row gap-1"></div></div> <time id="timer" class="flex flex-row gap-0 justify-self-center text-lg font-extrabold text-white"><span> </span> <span>:</span> <span> </span></time> <div class="flex flex-col gap-1 justify-self-end text-end"><span></span> <span> </span> <form><button class="bg-rose-900 px-4 py-1 font-extrabold"><!></button></form> <form><button class="bg-rose-900 px-4 py-1 font-extrabold">spawn enemies</button></form> <span class="text-blue-700"> </span></div></div> <!></div> <div id="terrain" class="relative"><div id="enemies" class="absolute left-0 top-0 h-full w-full"></div></div> <div id="center-window" class="absolute"><div id="player" class="absolute"></div> <div id="health-bar" class="absolute mt-2"><div id="health-bar-text" class="sr-only flex flex-row gap-2"><span>health:</span> <span> </span> <span> </span></div> <div id="health-bar-percent" class="flex h-2 flex-row bg-gray-900"><div class="bg-rose-500"></div></div></div> <div id="weapons" class="z-10"></div></div></div> <!>',1);function Or(s,r){Oe(r,!0);const a=30*60*1e3,y=6,p=6;let l=N(void 0),x=N(void 0),k=N(void 0),$=N(!1),b=N(!1),f=0,C=N(0),d=N(M([])),i=N(M(structuredClone(ue))),m=N(M([])),L=M([]),B=F(()=>Math.round(e(i).healthCurrent/e(i).healthMax*100)),g=N(1),w=N(0),A=N(0),P=N(0),E=F(()=>Math.round(1e3/e(P))),D=N(0),J=F(()=>Math.floor(e(D)/1e3/60)),X=F(()=>Math.floor(e(D)/1e3%60)),Q=N(M([])),Y=N(!1),se=N(0),le=N(0),$e=N(0),de=N(0);function Nt(t,n){var o,c;t.style.width=`${n.width+(((o=e(l))==null?void 0:o.clientWidth)??0)}px`,t.style.height=`${n.height+(((c=e(l))==null?void 0:c.clientHeight)??0)}px`,t.style.backgroundImage=`url(${n.imagePath})`,t.style.backgroundSize=`${n.width}px ${n.height}px`,t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center"}function xe(t){const n=document.createElement("span");n.id=`emoji-${f}`,n.textContent=t.emoji,n.style.fontSize=`${t.fontSize}px`;const o=document.createElement("span");o.id=`name-${f}`,o.textContent=t.name,o.classList.add("sr-only");const c=document.createElement("div");return c.id=`sprite-${f}`,c.appendChild(n),c.appendChild(o),c.style.position="absolute",c.style.width=`${t.width}px`,c.style.height=`${t.height}px`,c.style.overflow="clip",c.style.backgroundColor=t.colorBg.replace(")"," / 0.5)"),n.style.marginLeft=`${-t.fontSize/10}px`,n.style.marginTop=`${-t.fontSize/4}px`,c.style.display="flex",c.style.flexDirection="row",f+=1,c}function Je(t,n){const o=document.getElementById("enemies");if(!o){console.error('No div with id "enemies".');return}const c=300,T=360/t.length;t.forEach((j,I)=>{let S=structuredClone(j);S.el=xe(S.sprite);const V=T*I*(Math.PI/180),ie=Math.round(Math.cos(V)*c),ce=Math.round(Math.sin(V)*c);S.el.style.left=`${o.scrollLeft+o.clientWidth/2+ie}px`,S.el.style.top=`${o.scrollTop+o.clientHeight/2+ce}px`,o.appendChild(S.el),n.push(S)})}function ye(t,n){let o=t.getBoundingClientRect(),c=n.getBoundingClientRect();const T=o.bottom<c.top,j=c.bottom<o.top,I=o.right<c.left,S=c.right<o.left;return!(T||j||I||S)}function Ke(t){const n=t*1e3;return Math.round(n)/1e3}function Mt(){if(!e(l)||!e(i)||!e(se)&&!e(le)&&!e(de))return;const t=e(i).speed/2*e(P);let n=0,o=0;(e(se)||e(le))&&(n=t,o=Math.atan2(e(le),e(se))),e(de)&&(n=t*e(de),o=e($e)*Math.PI/180);const c=n*Math.cos(o),T=n*Math.sin(o),j=Ke(c),I=Ke(T);e(l).scrollBy({left:j,top:I})}function $t(){if(!e(l))return;const t=e(l).scrollLeft+e(l).clientWidth/2,n=e(l).scrollTop+e(l).clientHeight/2;e(d).forEach(({el:o,speed:c},T)=>{if(!o)return;const j=parseFloat(o.style.left),I=parseFloat(o.style.top),S=j-t,re=I-n,V=Math.sqrt(Math.pow(S,2)+Math.pow(re,2)),ie=Math.atan2(re,S),ce=c*e(P);let Re=0,De=0;if(ce>=V)Re=t,De=n;else{const ne=Math.cos(ie)*ce,ke=Math.sin(ie)*ce;Re=j-ne,De=I-ke}o.style.left=`${Re}px`,o.style.top=`${De}px`;let dt=!1;for(let ne=0;ne<e(d).length;(ne+=1)-1){if(T===ne)continue;const ke=e(d)[ne].el;if(!(!ke||!ye(o,ke))){dt=!0;break}}dt&&(o.style.left=`${j}px`,o.style.top=`${I}px`)})}function Tt(t){if(!e(x)){console.error('No div with id "terrain".');return}if(!t.el){console.error("No enemy el.");return}const n=xe(Sr);n.style.left=t.el.style.left,n.style.top=t.el.style.top,n.style.rotate="45deg",L.push(n),e(x).appendChild(n)}function At(){e(d).forEach(t=>{if(!t.el)return;let n=!1;e(m).forEach(o=>{!o.el||!t.el||!ye(o.el,t.el)||(n=!0,t.healthCurrent=t.healthCurrent-o.damage)}),n?t.el.style.backgroundColor=t.sprite.colorHit.replace(")"," / 0.5)"):t.el.style.backgroundColor=t.sprite.colorBg.replace(")"," / 0.5)")}),e(d).forEach(t=>{var n;t.healthCurrent>0||(Tt(t),(n=t.el)==null||n.remove(),u(C,e(C)+1))}),u(d,M(e(d).filter(t=>t.healthCurrent>0)))}function Pt(){let t=!1;if(e(d).forEach(n=>{if(!n.el){console.error("No enemy el.");return}if(!e(i).el){console.error("No activePlayer el.");return}ye(n.el,e(i).el)&&(t=!0,e(i).healthCurrent=e(i).healthCurrent-1)}),!e(i).el){console.error("No activePlayer el.");return}t?e(i).el.style.backgroundColor=ue.sprite.colorHit.replace(")"," / 0.5)"):e(i).el.style.backgroundColor=ue.sprite.colorBg.replace(")"," / 0.5)")}function St(){e(i)&&(e(m).forEach(t=>{var n;t.durationActiveElapsed+=e(P),!(t.durationActiveElapsed<t.durationActive)&&((n=t.el)==null||n.remove())}),u(m,M(e(m).filter(t=>t.durationActiveElapsed<t.durationActive))),e(i).weapons.forEach(t=>{var S;if(t.durationCooldownElapsed+=e(P),t.durationCooldownElapsed<t.durationCooldown)return;t.durationCooldownElapsed=0;const n=JSON.parse(JSON.stringify(t));if(n.el=xe(t.sprite),e(m).push(n),!((S=e(i))!=null&&S.el))return;const o=parseFloat(e(i).el.style.left),c=parseFloat(e(i).el.style.width),T=parseFloat(e(i).el.style.top),j=parseFloat(e(i).el.style.height);n.el.style.left=`${o+c}px`,n.el.style.top=`${T+j}px`;const I=document.getElementById("weapons");if(!I){console.error('No div with id "weapons".');return}I.appendChild(n.el)}))}function Bt(){L.forEach(t=>{if(!e(i).el){console.error("No activePlayer el.");return}ye(t,e(i).el)&&(u(w,e(w)+1),t.remove())})}function Ht(){if(e(g)>=10)return;const t=yt[e(g)-1].xpToNext;t>e(w)||(u(w,e(w)-t),u(g,e(g)+1))}function Lt(){return!!(e(D)>a||e(i)&&e(i).healthCurrent<=0)}function qe(t){u(P,t-e(A)),u(A,M(t)),u(b,M(Lt())),!e(b)&&(e(Y)||(u(D,e(D)+e(P)),Mt(),St(),$t(),At(),Pt(),Bt(),Ht()),window.requestAnimationFrame(qe))}function jt(){u(i,M(structuredClone(ue)));const t=xe(e(i).sprite);if(e(i).el=t,!e(k)){console.error('No element with id "player".');return}e(k).insertBefore(t,e(k).firstElementChild)}function zt(){if(!e(l)){console.error('No element with id "game-window".');return}if(!e(x)){console.error('No element with id "terrain".');return}u(d,M([])),u(m,M([])),u(b,!1),u($,!0),u(Y,!1),u(D,0),u(C,0),f=0,u(w,0),u(g,1),Nt(e(x),Fe);const t=(e(l).scrollHeight-e(l).clientHeight)/2,n=(e(l).scrollWidth-e(l).clientWidth)/2;e(l).scrollTo({top:t,left:n}),jt(),Je(xt,e(d)),window.requestAnimationFrame(qe)}var Ue=Rr(),Ve=Me(Ue);Er(Ve,{get actionsActive(){return e(Q)},set actionsActive(t){u(Q,M(t))},get isPaused(){return e(Y)},set isPaused(t){u(Y,M(t))},get dirX(){return e(se)},set dirX(t){u(se,M(t))},get dirY(){return e(le)},set dirY(t){u(le,M(t))}});var me=_(Ve,2),we=h(me),Te=h(we),Ae=h(Te),Ze=_(h(Ae),2),It=h(Ze);v(Ze),v(Ae);var Rt=_(Ae,2);oe(Rt,()=>e(i),t=>{var n=Br();const o=F(()=>yt[e(g)-1].xpToNext),c=F(()=>e(w)/e(o)*100);var T=Me(n),j=_(h(T),2),I=h(j);W(()=>R(I,`${Math.round(e(c))??""}%`)),v(j);var S=_(j,2),re=h(S);v(S),v(T);var V=_(T,2),ie=h(V);v(V),W(()=>{R(re,`${e(w)??""} / xpToNext}`),pe(ie,"style",`width: ${e(c)??""}%`)}),z(t,n)}),v(Te);var Pe=_(Te,2),Se=h(Pe),Be=h(Se);ge(Be,21,()=>ue.weapons,he,(t,n)=>{let o=()=>e(n).sprite;var c=Hr(),T=h(c,!0);v(c),W(()=>R(T,o().emoji)),z(t,c)}),v(Be);var He=_(Be,2);ge(He,21,()=>Array(y),he,(t,n,o)=>{var c=Lr(),T=h(c);v(c),W(()=>R(T,`${e(n)??""}${o??""}`)),z(t,c)}),v(He);var Qe=_(He,2);ge(Qe,21,()=>Array(p),he,(t,n,o)=>{var c=jr(),T=h(c);v(c),W(()=>R(T,`${e(n)??""}${o??""}`)),z(t,c)}),v(Qe),v(Se);var _e=_(Se,2),Le=h(_e),Dt=h(Le);W(()=>R(Dt,`${(e(J).toString().length===1?"0":"")??""}${e(J)??""}`)),v(Le);var et=_(Le,4),Wt=h(et);W(()=>R(Wt,`${(e(X).toString().length===1?"0":"")??""}${e(X)??""}`)),v(et),v(_e);var tt=_(_e,2),rt=h(tt);rt.textContent="0 ü™ô";var je=_(rt,2),Xt=h(je);v(je);var be=_(je,2),it=h(be),Yt=h(it);oe(Yt,()=>!e(Y),t=>{var n=ct("pause");z(t,n)},t=>{var n=ct("unpause");z(t,n)}),v(it),v(be);var nt=_(be,2),ot=_(nt,2),Ft=h(ot);v(ot),v(tt),v(Pe);var Ot=_(Pe,2);oe(Ot,()=>e(Y),t=>{var n=zr(),o=_(h(n),2);v(n),W(()=>{pe(o,"src",Fe.imagePath),pe(o,"alt",`Minimap of ${Fe.name} area.`)}),z(t,n)}),v(we);var at=_(we,2);Ye(at,t=>u(x,t),()=>e(x));var Ce=_(at,2),ee=h(Ce);Ye(ee,t=>u(k,t),()=>e(k));var te=_(ee,2),ze=h(te),Ie=_(h(ze),2),Gt=h(Ie);v(Ie);var st=_(Ie,2),Jt=h(st);v(st),v(ze);var lt=_(ze,2),Kt=h(lt);v(lt),v(te),xr(2),v(Ce),v(me),Ye(me,t=>u(l,t),()=>e(l));var qt=_(me,2);oe(qt,()=>!e($)||e(b),t=>{var n=Ir(),o=_(h(n),2);v(n),U("submit",o,c=>{c.preventDefault(),zt()}),z(t,n)},t=>{var n=mt(),o=Me(n);oe(o,()=>!e(Y),c=>{Mr(c,{get joystickAngle(){return e($e)},set joystickAngle(T){u($e,M(T))},get joystickTiltRatio(){return e(de)},set joystickTiltRatio(T){u(de,M(T))}})},null,!0),z(t,n)}),W(()=>{var t,n,o;H(we,"width",`${((t=e(l))==null?void 0:t.clientWidth)??1e3??""}px`),R(It,`Level ${e(g)??""}`),pe(_e,"datetime",`PT${e(J)??""}M${e(X)??""}S`),R(Xt,`${e(C)??""} üíÄ`),R(Ft,`${e(E)??""} fps`),H(Ce,"left",`${(((n=e(l))==null?void 0:n.clientWidth)??1e3)/2}px`),H(Ce,"top",`${(((o=e(l))==null?void 0:o.clientHeight)??1e3)/2}px`),H(ee,"left",`${-e(i).sprite.width/2}px`),H(ee,"top",`${-e(i).sprite.height/2}px`),H(ee,"height",`${e(i).sprite.height??""}px`),H(ee,"width",`${e(i).sprite.width??""}px`),Et(te,"hidden",!e($)),H(te,"top",`${e(i).sprite.height/2}px`),H(te,"left",`${-e(i).sprite.width/2}px`),H(te,"width",`${e(i).sprite.width??""}px`),R(Gt,`${e(B)??""}%`),R(Jt,`${e(i).healthCurrent??""} / ${e(i).healthMax??""}`),pe(Kt,"style",`width: ${e(B)??""}%`)}),U("submit",be,t=>{t.preventDefault(),u(Y,!e(Y))}),U("submit",nt,t=>{t.preventDefault(),Je(xt,e(d))}),z(s,Ue),Ge()}export{Or as component};
